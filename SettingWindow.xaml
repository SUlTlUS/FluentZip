<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="FluentZip.SettingWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="设置">

    <Window.SystemBackdrop>
        <MicaBackdrop />
    </Window.SystemBackdrop>

    <Grid RowSpacing="12" Padding="24,12,24,24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
            
        </Grid.RowDefinitions>

        <Grid x:Name="TitleBarDragRegion" Grid.Row="0" Height="36" Background="Transparent">
            <TextBlock Text="设置" VerticalAlignment="Center" FontSize="20" FontWeight="SemiBold" />
        </Grid>

        <Border Grid.Row="1"
                
                
                CornerRadius="12">
            <NavigationView x:Name="SettingsNav"
                            PaneDisplayMode="Left"
                            IsPaneToggleButtonVisible="True"
                            IsBackButtonVisible="Collapsed"
                            IsSettingsVisible="False"
                            SelectionChanged="SettingsNav_SelectionChanged"
                            PaneTitle=""
                            ItemInvoked="SettingsNav_ItemInvoked">
                <NavigationView.MenuItems>
                    <NavigationViewItem Content="常规" Tag="General">
                        <NavigationViewItem.Icon>
                            <SymbolIcon Symbol="Setting"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>
                    <NavigationViewItem Content="文件关联" Tag="FileAssoc">
                        <NavigationViewItem.Icon>
                            <SymbolIcon Symbol="Link"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>
                    <NavigationViewItem Content="右键菜单" Tag="ContextMenu">
                        <NavigationViewItem.Icon>
                            <SymbolIcon Symbol="List"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>
                    <NavigationViewItem Content="解压" Tag="Extract">
                        <NavigationViewItem.Icon>
                            <SymbolIcon Symbol="Download"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>
                    <NavigationViewItem Content="压缩" Tag="Compress">
                        <NavigationViewItem.Icon>
                            <SymbolIcon Symbol="Upload"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>
                    <NavigationViewItem Content="高级" Tag="Advanced">
                        <NavigationViewItem.Icon>
                            <SymbolIcon Symbol="AllApps"/>
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>
                </NavigationView.MenuItems>

                <NavigationView.Content>
                    <ScrollViewer Padding="32,24,32,32">
                        <StackPanel Spacing="20">
                            <TextBlock x:Name="SectionTitleText" Text="常规" FontSize="24" FontWeight="SemiBold" />

                            <StackPanel x:Name="GeneralSection" Spacing="16">
                                <TextBlock Text="主题" Style="{StaticResource SubtitleTextBlockStyle}" />
                                <TextBlock Text="选择应用的整体外观。" Style="{StaticResource BodyStrongTextBlockStyle}" />
                                <RadioButtons x:Name="ThemeRadioControl" SelectionChanged="ThemeRadio_SelectionChanged">
                                    <RadioButton Content="跟随系统" Tag="Default" />
                                    <RadioButton Content="浅色" Tag="Light" />
                                    <RadioButton Content="深色" Tag="Dark" />
                                </RadioButtons>
                                <ToggleSwitch x:Name="RememberWindowStateSwitch" Header="记住窗口大小和位置" IsOn="True"/>
                                <ToggleSwitch x:Name="UseMicaSwitch" Header="启用 Mica 特效" IsOn="True"/>
                            </StackPanel>

                            <StackPanel x:Name="FileAssocSection" Spacing="12" Visibility="Collapsed">
                                <TextBlock Text="选择哪些压缩格式默认由 FluentZip 打开。" Style="{StaticResource BodyStrongTextBlockStyle}" />
                                <ItemsControl>
                                    <ItemsControl.Items>
                                        <ToggleSwitch Header=".zip" IsOn="True"/>
                                        <ToggleSwitch Header=".7z" IsOn="True"/>
                                        <ToggleSwitch Header=".rar" IsOn="False"/>
                                        <ToggleSwitch Header=".tar" IsOn="False"/>
                                        <ToggleSwitch Header=".gz" IsOn="False"/>
                                    </ItemsControl.Items>
                                </ItemsControl>
                                <Button Content="应用到系统" HorizontalAlignment="Left"/>
                            </StackPanel>

                            <StackPanel x:Name="ContextMenuSection" Spacing="12" Visibility="Collapsed">
                                <TextBlock Text="选择解压菜单" Style="{StaticResource SubtitleTextBlockStyle}" />
                                <TextBlock Text="选择 Bandizip 样式的解压菜单项。" Style="{StaticResource BodyStrongTextBlockStyle}" />
                                <StackPanel Spacing="6">
                                    <ToggleSwitch Header="解压到此处" IsOn="True"/>
                                    <ToggleSwitch Header="智能解压到此处" IsOn="False"/>
                                    <ToggleSwitch Header="解压到“压缩文件名”文件夹" IsOn="True"/>
                                    <ToggleSwitch Header="解压到此处并删除压缩文件" IsOn="False"/>
                                    <ToggleSwitch Header="智能解压到此处并删除" IsOn="False"/>
                                    <ToggleSwitch Header="解压至“压缩文件名”文件夹并删除" IsOn="False"/>
                                    <ToggleSwitch Header="解压到其他文件夹..." IsOn="True"/>
                                    <ToggleSwitch Header="以管理员身份解压" IsOn="False"/>
                                    <ToggleSwitch Header="测试压缩文件" IsOn="False"/>
                                    <ToggleSwitch Header="使用 Bandizip 打开" IsOn="True"/>
                                    <ToggleSwitch Header="预览压缩文件" IsOn="True"/>
                                    <StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                                        <TextBlock Text="预览文件数量限制:" VerticalAlignment="Center" />
                                        <NumberBox x:Name="PreviewLimitNumberBox" Width="80" Value="6" Minimum="1" Maximum="20"/>
                                        <HyperlinkButton Content="帮助" NavigateUri="https://fluentzip.app"/>
                                    </StackPanel>
                                    <ToggleSwitch Header="以树形结构预览压缩文件" IsOn="True"/>
                                </StackPanel>
                            </StackPanel>

                            <StackPanel x:Name="ExtractSection" Spacing="16" Visibility="Collapsed">
                                <TextBlock Text="配置默认解压行为和双击动作。" Style="{StaticResource BodyStrongTextBlockStyle}" />
                                <RadioButtons Header="双击行动">
                                    <RadioButton Content="用 Bandizip 打开" GroupName="DoubleClickMode"/>
                                    <RadioButton Content="智能解压到此处" GroupName="DoubleClickMode" IsChecked="True"/>
                                    <RadioButton Content="显示上下文菜单" GroupName="DoubleClickMode"/>
                                    <StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                                        <RadioButton Content="智能解压到指定文件夹" GroupName="DoubleClickMode"/>
                                        <TextBox x:Name="DoubleClickFolderBox" Width="280" PlaceholderText="C:\Users\Example\Documents"/>
                                        <Button Content="浏览..."/>
                                    </StackPanel>
                                    <RadioButton Content="解压到“压缩文件名”文件夹" GroupName="DoubleClickMode"/>
                                    <RadioButton Content="双击解压后删除压缩文件" GroupName="DoubleClickMode"/>
                                </RadioButtons>
                                <ToggleSwitch Header="解压完成后打开目标文件夹" IsOn="True"/>
                                <ToggleSwitch Header="解压完成后保留日志" IsOn="False"/>
                            </StackPanel>

                            <StackPanel x:Name="CompressSection" Spacing="12" Visibility="Collapsed">
                                <ToggleSwitch Header="压缩时自动添加到右键菜单" IsOn="True"/>
                                <ToggleSwitch Header="压缩时生成 SHA 校验" IsOn="False"/>
                                <ToggleSwitch Header="压缩完成后打开保存位置" IsOn="True"/>
                            </StackPanel>

                            <StackPanel x:Name="AdvancedSection" Spacing="12" Visibility="Collapsed">
                                <ToggleSwitch Header="启用试验性功能" IsOn="False"/>
                                <ToggleSwitch Header="记录详细日志" IsOn="False"/>
                                <Button Content="打开应用数据文件夹" HorizontalAlignment="Left"/>
                            </StackPanel>
                        </StackPanel>
                    </ScrollViewer>
                </NavigationView.Content>
            </NavigationView>
        </Border>

        
    </Grid>
</Window>
